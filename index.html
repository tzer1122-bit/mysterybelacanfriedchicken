<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Mystery Belacan Fried Chicken</title>
<style>
/* åŸºæœ¬é‡ç½®ä¸ç‰ˆé¢ */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Poppins', sans-serif;
  background: #fafafa;
  margin: 0;
  color: #333;
  min-height: 100vh;
  display: flex;
  flex-direction: row;
  overflow-x: hidden;
}

/* å·¦ä¾§å›ºå®šåˆ†ç±»æ ï¼ˆçª„ç‰ˆ 150pxï¼‰*/
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: 150px;
  height: 100vh;
  background: #ffffff;
  box-shadow: 2px 0 6px rgba(0,0,0,0.08);
  padding: 18px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 10px;
  z-index: 1000;
}
.cat-btn {
  border: none;
  border-radius: 10px;
  padding: 10px 8px;
  color: white;
  font-weight: 700;
  cursor: pointer;
  font-size: 14px;
  transition: transform .12s ease, box-shadow .12s ease, opacity .12s;
  text-align: center;
}
.cat-btn:active { transform: translateY(1px); }
.cat-all { background: #cccccc; color: #000; }
.cat-featured { background: #ff7043; }
.cat-original { background: #ffcf33; color: #000; }
.cat-snack { background: #42a5f5; }

/* highlight active */
.cat-btn.active {
  box-shadow: 0 6px 14px rgba(0,0,0,0.12);
  transform: translateY(-2px);
}

/* ä¸»å†…å®¹åŒº â€” å³ä¾§ */
.main {
  margin-left: 150px;
  flex: 1;
  padding: 0 18px 60px;
  min-height: 100vh;
}

/* header */
header {
  background: #ffcf33;
  padding: 20px 15px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  display: flex;
  align-items: center;
  gap: 12px;
  border-radius: 0 0 8px 8px;
}
header img { width: 84px; height: auto; border-radius: 50%; }
header h1 { margin: 0; font-size: 20px; }

/* status */
#status, #openNow, #closed {
  margin: 14px auto;
  border-radius: 8px;
  padding: 10px;
  max-width: 860px;
}
#status { background: #fff3cd; color: #856404; }
#openNow { background: #d4edda; color: #155724; font-weight: 700; }
#closed { background: #ffe8e8; color: #b30000; font-weight: 700; display: none; }

/* èœå•å®¹å™¨ */
.menu {
  max-width: 900px;
  margin: 14px auto;
  display: block;
  text-align: left;
  padding: 0 6px;
}

/* å•é¡¹å¡ç‰‡ */
.item {
  background: #fff;
  margin: 12px 0;
  padding: 14px;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  display: block;
  opacity: 1;
  transform: translateY(0);
  transition: opacity .35s ease, transform .35s ease, height .35s ease, margin .35s ease, padding .35s ease;
}

/* éšè—æ—¶æ·¡å‡ºå¹¶æŠ˜å é«˜åº¦ */
.item.hidden {
  opacity: 0;
  transform: translateY(8px);
  pointer-events: none;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden;
}

/* å›¾ç‰‡ */
.item img {
  width: 100%;
  max-width: 220px;
  display: block;
  margin: 0 0 10px 0;
  border-radius: 8px;
}

/* æ ‡é¢˜ä¸è¯´æ˜ */
.item h3 { margin: 0 0 6px 0; font-size: 18px; }
.item p { margin: 6px 0; color: #666; font-size: 14px; }

/* æ•°é‡åŒº */
.quantity {
  display: flex;
  align-items: center;
  gap: 8px;
  max-width: 160px;
  margin-top: 6px;
}
.quantity button {
  width: 34px; height: 34px;
  background: #ffcf33; border: none; border-radius: 8px;
  font-size: 18px; cursor: pointer;
}

/* æ€»è®¡ã€ä»˜æ¬¾åŒº */
#total {
  margin: 18px auto;
  padding: 12px;
  background: #fffbe6;
  border: 2px solid #ffcf33;
  border-radius: 10px;
  width: fit-content;
  font-weight: 700;
}
#duitnow {
  margin: 18px auto;
  padding: 16px;
  background: #fff;
  border-radius: 10px;
  max-width: 420px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  text-align: center;
}
#duitnow img { width: 200px; border-radius: 10px; }

/* WhatsApp æŒ‰é’® */
button#sendOrder {
  width: 100%;
  padding: 14px;
  background: #25D366; border: none; border-radius: 10px;
  color: #fff; font-weight: 800; font-size: 18px; cursor: pointer;
  box-shadow: 0 4px 10px rgba(37,211,102,0.3);
}
button#sendOrder[disabled] {
  background: #ccc; cursor: not-allowed; box-shadow: none;
}

/* responsiveï¼šæ‰‹æ©ŸæŠŠ sidebar è®Šæˆä¸Šæ–¹å›ºå®šæ©«æ’ */
@media (max-width: 820px) {
  body { flex-direction: column; }
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: auto;
    flex-direction: row;
    justify-content: space-around;
    align-items: center;
    padding: 8px 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    background: #fff;
  }
  .main { margin-left: 0; padding: 6px; margin-top: 78px; }
  .cat-btn { flex: 1 1 auto; font-size: 13px; padding: 8px; border-radius: 8px; }
  .menu { padding: 0 6px; }
}

/* è½»å¾®åŠ¨ç”»ï¼šæ·¡å…¥æ·¡å‡ºï¼ˆç”¨äºåˆ‡æ¢æ•´ç»„ï¼‰ */
.fade-in { animation: fadeIn .35s ease both; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px);} to { opacity:1; transform: translateY(0);} }
</style>
</head>
<body>

<!-- æ¬¢è¿éŸ³æ•ˆï¼ˆæ”¾åœ¨åŒä¸€ç›®å½•ï¼‰ -->
<audio id="welcomeSound" src="welcome.mp3" preload="auto"></audio>

<!-- å·¦ä¾§å›ºå®šåˆ†ç±»ï¼ˆè§†è§‰åˆ†ç±»ï¼šAll / Featured / Original / Snacksï¼‰ -->
<div class="sidebar" aria-hidden="false">
  <button class="cat-btn cat-all active" data-category="all">ğŸŒ å…¨éƒ¨èœå•</button>
  <button class="cat-btn cat-featured" data-category="featured">ğŸ”¥ çˆ†å“</button>
  <button class="cat-btn cat-original" data-category="original">ğŸ— åŸå‘³ç‚¸é¸¡</button>
  <button class="cat-btn cat-snack" data-category="snacks">ğŸŸ å°åƒç³»åˆ—</button>
</div>

<!-- å³ä¾§ä¸»å†…å®¹ -->
<div class="main">
  <header>
    <img src="logo.png" alt="Mystery Belacan Fried Chicken Logo">
    <h1>ğŸ— Mystery Belacan Fried Chicken</h1>
  </header>

  <div id="status">ğŸ•“ è¥ä¸šæ—¶é—´ï¼šä¸‹åˆ 4:30 â€“ æ™šä¸Š 8:30ï¼ˆæ˜ŸæœŸå…­ä¼‘æ¯ï¼‰</div>
  <div id="openNow"></div>
  <div id="closed">ğŸš« ä»Šæ—¥ä¼‘æ¯æˆ–æœªè¥ä¸šï¼Œè¯·äºè¥ä¸šæ—¶é—´å†æ¥ï¼</div>

  <div id="menuSection" class="menu">
    <!-- ä¸‹é¢æ˜¯ä½ åŸæœ¬å®Œæ•´èœå•ï¼ˆä¿æŒä¸€æ¨¡ä¸€æ ·ï¼‰ï¼ŒFillet åœ¨çˆ†å“å¹¶åŒ…å«å£å‘³é€‰é¡¹ -->
    <h2 class="section-title">ğŸ”¥ åº—å®¶çˆ†å“</h2>

    <div class="item" data-category="featured">
      <img src="popcorn.jpg" alt="Chicken Popcorn">
      <h3>Chicken Popcorn RM7.50</h3>
      <p>é€‰æ‹©å£å‘³ï¼š</p>
      <p>åŸå‘³</p>
      <div class="quantity">
        <button onclick="changeQty('popcorn_plain', -1)">-</button>
        <span id="qty-popcorn_plain">0</span>
        <button onclick="changeQty('popcorn_plain', 1)">+</button>
      </div>

      <p>ç›é…¥</p>
      <div class="quantity">
        <button onclick="changeQty('popcorn_salty', -1)">-</button>
        <span id="qty-popcorn_salty">0</span>
        <button onclick="changeQty('popcorn_salty', 1)">+</button>
      </div>

      <p>æµ·è‹”</p>
      <div class="quantity">
        <button onclick="changeQty('popcorn_seaweed', -1)">-</button>
        <span id="qty-popcorn_seaweed">0</span>
        <button onclick="changeQty('popcorn_seaweed', 1)">+</button>
      </div>

      <p>éº»è¾£</p>
      <div class="quantity">
        <button onclick="changeQty('popcorn_spicy', -1)">-</button>
        <span id="qty-popcorn_spicy">0</span>
        <button onclick="changeQty('popcorn_spicy', 1)">+</button>
      </div>

      <p>èµ·å¸</p>
      <div class="quantity">
        <button onclick="changeQty('popcorn_cheese', -1)">-</button>
        <span id="qty-popcorn_cheese">0</span>
        <button onclick="changeQty('popcorn_cheese', 1)">+</button>
      </div>
    </div>

    <div class="item" data-category="featured">
      <img src="fillet.jpg" alt="Chicken Breast Fillet">
      <h3>Chicken Breast Fillet RM7.50</h3>

      <p>åŸå‘³</p>
      <div class="quantity">
        <button onclick="changeQty('fillet_plain', -1)">-</button>
        <span id="qty-fillet_plain">0</span>
        <button onclick="changeQty('fillet_plain', 1)">+</button>
      </div>

      <p>ç›é…¥</p>
      <div class="quantity">
        <button onclick="changeQty('fillet_salty', -1)">-</button>
        <span id="qty-fillet_salty">0</span>
        <button onclick="changeQty('fillet_salty', 1)">+</button>
      </div>

      <p>æµ·è‹”</p>
      <div class="quantity">
        <button onclick="changeQty('fillet_seaweed', -1)">-</button>
        <span id="qty-fillet_seaweed">0</span>
        <button onclick="changeQty('fillet_seaweed', 1)">+</button>
      </div>

      <p>éº»è¾£</p>
      <div class="quantity">
        <button onclick="changeQty('fillet_spicy', -1)">-</button>
        <span id="qty-fillet_spicy">0</span>
        <button onclick="changeQty('fillet_spicy', 1)">+</button>
      </div>

      <p>èµ·å¸</p>
      <div class="quantity">
        <button onclick="changeQty('fillet_cheese', -1)">-</button>
        <span id="qty-fillet_cheese">0</span>
        <button onclick="changeQty('fillet_cheese', 1)">+</button>
      </div>
    </div>

    <h2 class="section-title">ğŸ— åŸå‘³ç‚¸é¸¡</h2>

    <div class="item" data-category="original">
      <img src="wing.jpg" alt="Chicken Wing">
      <h3>Chicken Wing RM3.50</h3>
      <div class="quantity">
        <button onclick="changeQty('wing', -1)">-</button>
        <span id="qty-wing">0</span>
        <button onclick="changeQty('wing', 1)">+</button>
      </div>
    </div>

    <div class="item" data-category="original">
      <img src="drumstick.jpg" alt="Chicken Drumstick">
      <h3>Chicken Drumstick RM5.00</h3>
      <div class="quantity">
        <button onclick="changeQty('drumstick', -1)">-</button>
        <span id="qty-drumstick">0</span>
        <button onclick="changeQty('drumstick', 1)">+</button>
      </div>
    </div>

    <div class="item" data-category="original">
      <img src="thigh.jpg" alt="Chicken Thigh">
      <h3>Chicken Thigh RM5.00</h3>
      <div class="quantity">
        <button onclick="changeQty('thigh', -1)">-</button>
        <span id="qty-thigh">0</span>
        <button onclick="changeQty('thigh', 1)">+</button>
      </div>
    </div>

    <h2 class="section-title">ğŸŸ å°åƒç³»åˆ—</h2>

    <div class="item" data-category="snacks">
      <img src="wedges.jpg" alt="Cheesy Wedges">
      <h3>Cheesy Wedges RM6.50</h3>
      <div class="quantity">
        <button onclick="changeQty('wedges', -1)">-</button>
        <span id="qty-wedges">0</span>
        <button onclick="changeQty('wedges', 1)">+</button>
      </div>
    </div>

  </div> <!-- /menu -->

  <div id="total">ğŸ§¾ æ€»è®¡ï¼šRM 0.00</div>

  <div id="duitnow">
    <h3>ğŸ’³ è¯·æ‰«ç é€šè¿‡ DuitNow ä»˜æ¬¾</h3>
    <img src="duitnow.jpg" alt="DuitNow QR">
    <p style="margin-top:10px;">ä»˜æ¬¾åï¼Œè¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œå¹¶åœ¨ WhatsApp é™„ä¸Šä»˜æ¬¾æˆªå›¾ ğŸ“¸</p>
    <button id="sendOrder">ğŸ“© å‘é€ WhatsApp ä¸‹å•</button>
  </div>
</div> <!-- /main -->

<script>
/* ---------- æ¬¢è¿éŸ³æ•ˆï¼šå°è¯•è‡ªåŠ¨æ’­æ”¾ + é¦–æ¬¡äº¤äº’å¤‡ç”¨ ---------- */
(function() {
  const audio = document.getElementById('welcomeSound');
  let played = false;
  function tryPlay() {
    if (played) return;
    audio.volume = 0.9;
    audio.play().then(()=>{ played = true; }).catch(()=>{ /* æµè§ˆå™¨é˜»æ­¢è‡ªåŠ¨æ’­æ”¾ */ });
  }
  // å°è¯•è‡ªåŠ¨æ’­æ”¾ï¼ˆå¯èƒ½è¢«æµè§ˆå™¨é™éŸ³ï¼‰
  tryPlay();
  // è‹¥è¢«é˜»æŒ¡ï¼šåœ¨ç”¨æˆ·é¦–æ¬¡äº¤äº’æ—¶æ’­æ”¾ä¸€æ¬¡
  function userInteractOnce() {
    tryPlay();
    window.removeEventListener('click', userInteractOnce);
    window.removeEventListener('touchstart', userInteractOnce);
  }
  window.addEventListener('click', userInteractOnce);
  window.addEventListener('touchstart', userInteractOnce);
})();

/* ---------- ç­›é€‰ï¼šç‚¹å‡»åˆ†ç±»åªæ˜¾ç¤ºå¯¹åº” data-category çš„é¡¹ï¼ˆæ·¡å…¥æ·¡å‡ºï¼‰ ---------- */
const catButtons = document.querySelectorAll('.cat-btn');
catButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    // active æ ·å¼
    catButtons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const category = btn.getAttribute('data-category');
    filterCategory(category);
  });
});

function filterCategory(category) {
  const items = document.querySelectorAll('.item');
  if (category === 'all') {
    // æ˜¾ç¤ºå…¨éƒ¨
    items.forEach(it => {
      it.classList.remove('hidden');
      it.classList.add('fade-in');
      setTimeout(()=> it.classList.remove('fade-in'), 400);
    });
    return;
  }
  // æ˜¾ç¤ºåŒ¹é…ç±»ç›®ï¼Œéšè—ä¸åŒ¹é…
  items.forEach(it => {
    const cat = it.getAttribute('data-category');
    if (cat === category) {
      it.classList.remove('hidden');
      it.classList.add('fade-in');
      setTimeout(()=> it.classList.remove('fade-in'), 400);
    } else {
      // éšè—
      it.classList.add('hidden');
    }
  });
}

/* ---------- åŸæœ‰åŠŸèƒ½ï¼šè¥ä¸šæ—¶é—´ã€æ•°é‡ã€ä»·æ ¼ã€WhatsApp ---------- */
const restDays = ["Saturday"];
const openHour = 16, openMinute = 30;
const closeHour = 20, closeMinute = 30;

const qty = {
  popcorn_plain: 0, popcorn_salty: 0, popcorn_seaweed: 0, popcorn_spicy: 0, popcorn_cheese: 0,
  wing: 0, drumstick: 0, thigh: 0,
  fillet_plain: 0, fillet_salty: 0, fillet_seaweed: 0, fillet_spicy: 0, fillet_cheese: 0,
  wedges: 0
};

const prices = {
  popcorn_plain: 7.5, popcorn_salty: 7.5, popcorn_seaweed: 7.5, popcorn_spicy: 7.5, popcorn_cheese: 7.5,
  wing: 3.5, drumstick: 5, thigh: 5,
  fillet_plain: 7.5, fillet_salty: 7.5, fillet_seaweed: 7.5, fillet_spicy: 7.5, fillet_cheese: 7.5,
  wedges: 6.5
};

function changeQty(item, change) {
  if (!(item in qty)) return;
  qty[item] = Math.max(0, qty[item] + change);
  const el = document.getElementById("qty-" + item);
  if (el) el.textContent = qty[item];
  updateTotal();
}

function updateTotal() {
  let total = 0;
  for (const k in qty) total += (qty[k] || 0) * (prices[k] || 0);
  const totalEl = document.getElementById('total');
  if (totalEl) totalEl.textContent = "ğŸ§¾ æ€»è®¡ï¼šRM " + total.toFixed(2);
}

/* è¥ä¸šæ—¶é—´é€»è¾‘ï¼šè‹¥æœªè¥ä¸šåˆ™ç¦ç”¨ WhatsApp æŒ‰é’® */
function checkBusinessHours() {
  const now = new Date();
  const dayName = now.toLocaleDateString('en-US', { weekday: 'long' });
  const hour = now.getHours(), minute = now.getMinutes();
  const closedDiv = document.getElementById("closed");
  const openNow = document.getElementById("openNow");
  const sendBtn = document.getElementById("sendOrder");

  const isRestDay = restDays.includes(dayName);
  let isOpen = false;
  if (!isRestDay) {
    const afterOpen = (hour > openHour) || (hour === openHour && minute >= openMinute);
    const beforeClose = (hour < closeHour) || (hour === closeHour && minute <= closeMinute);
    isOpen = afterOpen && beforeClose;
  }

  if (isRestDay || !isOpen) {
    closedDiv.style.display = "block";
    openNow.style.display = "none";
    sendBtn.disabled = true;
    sendBtn.textContent = "ğŸš« æœªè¥ä¸šï¼Œæ— æ³•å‘é€";
    sendBtn.style.background = "#ccc";
    sendBtn.style.cursor = "not-allowed";
    sendBtn.style.boxShadow = "none";
  } else {
    closedDiv.style.display = "none";
    openNow.style.display = "block";
    openNow.textContent = "âœ… æ­£åœ¨è¥ä¸šä¸­ï¼æ¬¢è¿ä¸‹å•ï½";
    sendBtn.disabled = false;
    sendBtn.textContent = "ğŸ“© å‘é€ WhatsApp ä¸‹å•";
    sendBtn.style.background = "#25D366";
    sendBtn.style.cursor = "pointer";
    sendBtn.style.boxShadow = "0 4px 10px rgba(37,211,102,0.4)";
  }
}

document.getElementById("sendOrder").addEventListener("click", function() {
  if (this.disabled) return;
  const phone = "60103715668";
  const now = new Date();
  const dateTime = now.toLocaleString("zh-CN", { hour12: false });
  let msg = "ğŸ— Mystery Belacan Fried Chicken ä¸‹å•é€šçŸ¥\n\n";
  msg += "ğŸ•’ ä¸‹å•æ—¶é—´ï¼š" + dateTime + "\n\n";

  const nameMap = {
    popcorn_plain: "Chicken Popcorn (åŸå‘³)", popcorn_salty: "Chicken Popcorn (ç›é…¥)",
    popcorn_seaweed: "Chicken Popcorn (æµ·è‹”)", popcorn_spicy: "Chicken Popcorn (éº»è¾£)", popcorn_cheese: "Chicken Popcorn (èµ·å¸)",
    fillet_plain: "Chicken Breast Fillet(åŸå‘³)", fillet_salty: "Chicken Breast Fillet(ç›é…¥)",
    fillet_seaweed: "Chicken Breast Fillet(æµ·è‹”)", fillet_spicy: "Chicken Breast Fillet(éº»è¾£)", fillet_cheese: "Chicken Breast Fillet(èµ·å¸)",
    wing: "Chicken Wing", drumstick: "Chicken Drumstick", thigh: "Chicken Thigh", wedges: "Cheesy Wedges"
  };

  let total = 0;
  for (const key in qty) {
    if (qty[key] > 0) {
      msg += `- ${nameMap[key]} Ã— ${qty[key]}\n`;
      total += qty[key] * (prices[key] || 0);
    }
  }

  msg += `\nğŸ§¾ æ€»è®¡ï¼šRM ${total.toFixed(2)}\n\nè¯·é™„ä¸Šä»˜æ¬¾æˆªå›¾ï¼Œè°¢è°¢ï¼ğŸ˜Š`;
  window.open(`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`, "_blank");
});

/* åˆå§‹çŠ¶æ€ */
updateTotal();
checkBusinessHours();

/* æ¯åˆ†é’Ÿæ£€æŸ¥è¥ä¸šçŠ¶æ€ï¼ˆå¯ç§»é™¤ï¼‰ */
setInterval(checkBusinessHours, 60 * 1000);

/* åˆå§‹æ˜¾ç¤ºå…¨éƒ¨ï¼ˆç¡®ä¿æŒ‰é’®æ ·å¼åŒæ­¥ï¼‰ */
(function initCategory() {
  document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
  const btn = document.querySelector('.cat-btn.cat-all');
  if (btn) btn.classList.add('active');
  filterCategory('all');
})();

/* filterCategory ç”±ä¸Šæ–¹æŒ‰é’®è§¦å‘ï¼ˆä¿ç•™å’Œä½ çš„åŸæœ¬è¡Œä¸ºä¸€è‡´ï¼‰ */
function filterCategory(category) {
  const items = document.querySelectorAll('.item');
  if (category === 'all') {
    items.forEach(it => {
      it.classList.remove('hidden');
      it.classList.add('fade-in');
      setTimeout(()=> it.classList.remove('fade-in'), 400);
    });
    return;
  }
  items.forEach(it => {
    const cat = it.getAttribute('data-category');
    if (cat === category) {
      it.classList.remove('hidden');
      it.classList.add('fade-in');
      setTimeout(()=> it.classList.remove('fade-in'), 400);
    } else {
      it.classList.add('hidden');
    }
  });
}

/* æŠŠæŒ‰é’®ç‚¹å‡»æ˜ å°„åˆ° filterCategoryï¼ˆå†ç»‘ä¸€æ¬¡ç¡®ä¿è¡Œä¸ºç¨³å®šï¼‰ */
document.querySelectorAll('.cat-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const category = btn.getAttribute('data-category');
    filterCategory(category);
  });
});
</script>
</body>
</html>

